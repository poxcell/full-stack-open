{"version":3,"sources":["services/persons.js","components/AddPersonForm.js","components/Person.js","components/PersonsBox.js","components/Filter.js","App.js","index.js"],"names":["BASE_URL","axios","get","then","response","data","newPerson","post","id","delete","person","newNumber","put","number","AddPersonForm","handleSubmit","newName","updateName","updateNumber","onSubmit","value","onChange","type","Person","name","handleDelete","onClick","PersonsBox","filter","persons","length","map","Filter","handleChange","Message","message","color","messageStyle","background","fontSize","border","padding","borderRadius","marginBottom","style","App","useState","setPersons","setNewName","setNewNumber","setFilter","setMessage","useEffect","personsServices","initialPersons","event","filterInput","target","filtered","toLowerCase","includes","preventDefault","foundPerson","find","returnedPerson","catch","err","setTimeout","concat","window","confirm","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0a9aabea.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nconst BASE_URL = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(BASE_URL)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newPerson => {\r\n  const request = axios.post(BASE_URL,newPerson)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = id => {  \r\n  const request = axios.delete(`${BASE_URL}/${id}`)\r\n  return request.then(response => response)\r\n}\r\n\r\nconst update = (person, newNumber) => {\r\n  const request = axios.put(`${BASE_URL}/${person.id}`,{...person,number:newNumber})\r\n  return request.then(response => response.data)\r\n}\r\n\r\n\r\nexport default{getAll,create,deletePerson,update}","\r\nconst AddPersonForm = ({handleSubmit,newName,newNumber,updateName, updateNumber}) => (\r\n  <form onSubmit={handleSubmit}>\r\n    <div>\r\n      name: <input value = {newName} onChange={updateName}/>\r\n    </div>\r\n    <div>\r\n      number: <input value = {newNumber} onChange={updateNumber}/>\r\n    </div>\r\n    <div>\r\n      <button type=\"submit\" >add</button>\r\n    </div>\r\n  </form>\r\n)\r\n\r\nexport default AddPersonForm","const Person = ({name,number,handleDelete}) =>(\r\n  <div>\r\n    {name}     {number}\r\n    <button onClick={handleDelete}>delete</button>\r\n  </div> \r\n)\r\n\r\nexport default Person","import Person from './Person'\r\n\r\n\r\nconst PersonsBox = ({filter,persons,handleDelete}) => (\r\n  <div>\r\n    { filter.length > 0 \r\n      ? filter.map((person) => \r\n        <Person  \r\n          key={person.id} \r\n          name={person.name} \r\n          number={person.number} \r\n          handleDelete={() => handleDelete(person.id)}\r\n        />)\r\n      : persons.map((person) => \r\n        <Person  \r\n          key={person.id} \r\n          name={person.name} \r\n          number={person.number} \r\n          handleDelete={() => handleDelete(person.id)}\r\n        />)\r\n      }\r\n  </div>\r\n)\r\n\r\nexport default PersonsBox","const Filter = ({handleChange}) => (\r\n  <div>filter shown with <input onChange={handleChange}></input></div>\r\n)\r\n\r\nexport default Filter","import React, { useState, useEffect } from 'react'\nimport personsServices from './services/persons'\nimport AddPersonForm from './components/AddPersonForm'\nimport PersonsBox from './components/PersonsBox'\nimport Filter from './components/Filter'\n\nconst Message = ({message,color}) =>{\n  \n  if (message === null){\n    return null\n  }\n  const messageStyle ={\n    background: 'lightgrey',\n    color: color,\n    fontSize: '24px',\n    border: `${color} solid 3px`,\n    padding:'10px',\n    borderRadius: '10px',\n    marginBottom:'15px'\n  }\n  return(\n    <div style={messageStyle}>\n      {message}\n    </div>\n  )\n}\n\nconst App = () => {\n  const [persons, setPersons] = useState([\n    \n  ])\n  const [newName, setNewName ] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState([])\n  const [message, setMessage] = useState([null,'green'])\n\n  const filterNames = (event) => {\n    const filterInput = event.target.value\n    const filtered = persons.filter(person => person.name.toLowerCase().includes(filterInput))\n    setFilter(filtered)\n  }\n  useEffect(() => {\n    personsServices\n      .getAll()\n      .then(initialPersons => setPersons(initialPersons))\n  },[])\n\n  const handleAddPerson = (event)=>{\n    event.preventDefault()\n    const foundPerson = persons.find(person => person.name.toLowerCase() === newName.toLowerCase())\n\n    if (!foundPerson){\n      \n      const newPerson = {name:newName,number:newNumber}\n      personsServices\n        .create(newPerson)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setNewName('')\n          setNewNumber('')\n          setMessage([`Added ${returnedPerson.name}`,'green'])\n          setTimeout(() => {\n            setMessage([null,'green'])\n          },3000)\n        })\n    }\n    else{\n      personsServices\n        .update(foundPerson,newNumber)\n        .then(returnedPerson => {\n          setPersons(persons.map(person => \n            person.id !== foundPerson.id ? person : returnedPerson\n          ))\n        })\n        .catch(err =>{\n          setMessage([`Information of ${foundPerson.name} has already been removed from the server`,'red'])\n          setTimeout(() => {\n            setMessage([null,'green'])\n          },3000)\n        })\n    }\n  }\n\n  \n\n  const handleDeletePerson = id => {\n    const person = persons.find(person => person.id === id)\n    const confirmation = window.confirm(`you sure you want to delete ${person.name}?`)\n\n    if (confirmation){\n      personsServices\n        .deletePerson(id)\n        .then(response =>{\n          setPersons(persons.filter(person => id !== person.id) )\n        })\n    }\n      \n  }\n\n  const updateName = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const updateNumber = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Message message={message[0]} color={message[1]}/>\n      <Filter handleChange={filterNames}/>\n      <h2>add a new</h2>\n      <AddPersonForm \n        handleSubmit={handleAddPerson} \n        newName={newName} \n        newNumber ={newNumber}\n        updateName={updateName}\n        updateNumber={updateNumber}\n      />\n      <h2>Numbers</h2>\n      <PersonsBox \n        filter={filter} \n        persons={persons}\n        handleDelete ={handleDeletePerson}\n      />\n    </div>\n  )\n}\n\n\n\n\n\n\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}